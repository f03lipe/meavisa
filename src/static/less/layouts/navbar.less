
@import "../common.less";

@navbar-height: 50px;

nav.bar {
	// .transition(height, .3s, linear);

	.brand {
		.transition(line-height, .2s, linear);
		// .transition(font-size, .2s, linear);
	}
	.navcontent>ul>li .plain-btn i {
		// .transition(font-size, .2s, linear);
	}

	.navcontent > ul {
		.plain-btn {
			.transition(height, .1s, linear);
		}
		.openSidebar {
			// .transition(height, .1s, linear);
			.transition(left, .2s, linear);
		}
		.newPost {
			// .transition(height, .3s, linear);
			.transition(line-height, .2s, linear);
		}
		.navbarDropdown {
			.avatar-btn {
				.avatarDd {
					.transition(width, .2s, linear);
					// .transition(height, .3s, linear);
				}
			}
		}
	}
}

@navbar-small-height: 40px;

body.smallNavbar nav.bar {

	height: @navbar-small-height;

	.brand {
		line-height: (@navbar-small-height - 1);
		font-size: 20px;
	}

	.navcontent>ul>li .plain-btn i {
		font-size: 15px;
	}

	.navcontent > ul {
		.plain-btn {
			height: @navbar-small-height+1;
		}
		.openSidebar {
			height: @navbar-small-height;
			left: 5px;
		}
		.newPost {
			height: @navbar-small-height+1;
			line-height: @navbar-small-height+1+5;
		}
		.navbarDropdown {
			.avatar-btn {
				.avatarDd {
					width: @navbar-small-height+1;
					height: @navbar-small-height+1;
				}
			}
		}
	}

}

nav.bar {
	@compColor: #666;
	@brandColor: #444;
	@brandFontSize: 23px;

	// overflow: hidden;
	position: relative;
	z-index: 20;
	height: @navbar-height;
	min-width: @minPageWidth;
	&:extend(.clearfix all); // Prevent floats from breaking the navbar

	.navcontent {
		margin: 0 auto;
		padding: 0 0 0 20px;
	}

	.tooltip .tooltip-inner {}

	.pull-right { float: right !important; }
	.pull-left { float: left !important; }
	.navcontent > ul:not(.pull-right) {
		.pull-left;
	}

	.brand {
		.unselectable;
		position: absolute;
		left: 50%;
		width: 700px;
		margin-left: (-350px - 7px);

		text-align: center;
		font-size: @brandFontSize;
		line-height: (@navbar-height - 1);
		vertical-align: middle;

		a {
			color: @brandColor;
			font-family: @BrandFontFamily;
			text-transform: uppercase;
			font-family: "museo";
			outline: none !important;

			&:focus, &:hover {
				text-decoration: none;
			}
		}

		.pageLabelDetail {
			body.hasCards:not(.headerPassed) > & .iconThumbnail {
				display: none;
			}

			body.hasCards:not(.headerPassed) > & .pageLabel {
				display: none;
			}

			.iconThumbnail {
				margin: -2px 1px 0;
				padding-right: 1px;

				text-shadow: 2px 2px 0 rgba(0, 0, 0, .2),
					3px 3px 0 rgba(0, 0, 0, .2),
					5px 5px 0 rgba(0, 0, 0, .2)
				;
			}

			.pageLabel {
				font-size: 75%;
				display: inline;
				color: #444;
				font-family: museo-sans;
				display: inline-block;
				text-transform: uppercase;
			}
		}

	}

	.navcontent > ul {

		&:extend(.nav);
		&:extend(.navbar-nav);

		margin: 0 !important;

		& > li {
			display: inline-block;
			vertical-align: top;
			list-style: none;
			
			.plain-btn {
 				.navbar-vertical-align(@input-height-base);

				outline: none;
				font-weight: bold;
				color: fadeout(@compColor,30%);
				font-weight: 700;
				&:hover, &:active {
					background: none;
					box-shadow: none;
					color: @compColor;
				}
				border-left: 1px solid #DDD;
				padding: 8px 17px;
				vertical-align: top;
				box-shadow: none;
				.rounded(0);
				background: none;
				height: @navbar-height+1;
				margin: 0;
				border-bottom: 1px solid transparent;
				&:hover, &:focus {
					border-bottom: 2px solid #AAA;
				}
				.transition(all, .2s, linear);

				i {
					font-size: 17px;
					vertical-align: middle;
				}
			}

			.sorting {
				i { font-size: 20px; }
				.icon-fire {
					color: #FF865D;
				}
			}

			.bell-btn {
				position: relative;
				#count {
					background: @COLOR2;
					font-size: 9px;
					float: right;
					padding: 3px 5px;
					position: absolute;
					top: 2px;
					right: 4px;
					.box-shadow(0,0,2px,1);
				}
				#count:empty {
					display: none;
				}
			}

			.openSidebar {
				position: absolute;
				top: 0;
				left: 10px;
				
				line-height: 1;
				border: none;
				padding: 8px 12px;
				height: @navbar-height;
				margin: 0;
				text-align: left;
				opacity: .6;
				
				color: @compColor;
				font-weight: 700;
				vertical-align: top;
				box-shadow: none;
				background: none;

				&:hover, &:focus, &:active {
					background: none;
					box-shadow: none;
				}
				.transition(opacity, .2s, linear);

				i {
					font-size: 21px !important;
					vertical-align: middle;
				}

				&:hover, &:focus, &:active {
					outline: none;
					color: @compColor;
					.no-box-shadow;
					opacity: 1;
				}
			}

			.newPost {
				.btn0;
				padding: 8px 12px;
				vertical-align: top;
				box-shadow: none;
				margin: 0;

				background: saturate(@COLOR3,5%);
				height: @navbar-height+1;
				line-height: @navbar-height+1+5;
				width: 43px;
				padding: 0;
				.rounded(0);

				&:hover, &:focus, &:active {
					box-shadow: none;
				}
				&:active {
					.inner-shadow(5px, .4);
				}
				i { 
					font-size: 22px !important;
					color: white;
				}
				&:hover, &:focus {
					background: desaturate(@COLOR3, 5%);
				}
			}

			&.navbarDropdown {

				.avatar-btn {
					.reset-button;
					cursor: pointer;
					position: relative;
					display: inline-block;
					.avatarDd {
						display: inline-block;
						width: @navbar-height+1;
						height: @navbar-height+1;
						vertical-align: top;
						.background-size(cover);
					}
				}

				.dropdown-menu {
					left: auto;
					right: 2px;
					margin-top: 6px;
					padding: 6px 0px;
					.rounded(3px);
					background: #222;
					min-width: 0;

					&::before {
						content: ' ';
						border: 5px solid transparent;
						border-bottom-color: #222;
						position: absolute;
						top: -11px;
						left: 53px;
					}

					li {
						font-family: museo-sans;
						background: transparent;
						a {
							outline: none;
							cursor: pointer;
							color: white;
							.rounded(1px);
							padding: 5px 20px;
							font-size: 12px;
							font-weight: bold;
							font-family: museo-sans;

							.transition(all, .2s, linear);

							&:focus, &:hover, &:active { background: #222; }

							&:hover {
								background: darken(desaturate(@COLOR1,10%),3%);
								color: white;
							}
							&:active {
								.inner-shadow(3px, .3);
							}

							i {
								display: none;
								font-size: 13px;
								width: 12px;
							}
						}
					}
				}
			}
		}

		.blue-high {
			.high-xbtn(white, @COLOR1);
		}

		& > .separator {
			display: inline-block;
			margin: 0 5px;
			height: 100%;
			border-left: 1px solid rgba(0,0,0,.1);
		}
	}
}

.dialog {
	[data-action=send-tester-email] {
		.high-xbtn;
	}
}


.popover {

	background: #222;
	margin-right: 3px;
	.rounded(3px);
	max-width: 30000px;

	margin-top: 5px !important;
	border: none;

	.arrow {
		border: none !important;
 		&::after {
			border-bottom-color: #222 !important;
			border-width: 5px;
			margin-left: 7px !important;
			top: 6px !important;
		}
	}

	.notificationList {
		margin: -10px -15px;
		.rounded(3px);
		overflow: hidden;

		.notificationItem {
			list-style: none;
			display: table;
			width: 280px;
			cursor: pointer;
			color: white;
			min-height: 50px;
			position: relative;
			font-size: 12px;
			font-family: museo-sans;
			.transition(all, .2s, linear);
		
			&:not(:last-child) {
				border-bottom: 1px solid #1A1A1A;
			}

			&[data-accessed=false]::before {
				content: " ";
				position: absolute;
				left: 50px;
				top: 0;
				bottom: 0;
				width: 3px;
				z-index: 1;
				background: #08C;
			}

			&[data-seen=true] {
				// color: #DDD;
				// background: rgba(255, 255, 255, .1); // #F9FAFF;
			}

			&:hover {
				color: white;
			}

			time {
				font-weight: normal;
				font-style: normal;
				float: right;
				font-size: 11px;
				margin-top: 4px;
				opacity: .8;
			}

			.thumbnail {
				.rounded(0px);
				margin-right: 10px;
				width: 50px;
				.background-size(cover);
				
				position: absolute;
				top: 0;
				bottom: 0;
			}
			
			.notificationItemBody {
				padding: 10px;
				margin-left: 50px;
			}
		}
	}

}