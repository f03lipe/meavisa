
@import "../common.less";

@navbar-height: 50px;

nav.bar {
	@compColor: #666;
	@brandColor: #444;
	@brandFontSize: 23px;

	position: relative;
	height: @navbar-height;
	&:extend(.clearfix all); // Prevent floats from breaking the navbar
	z-index: 20;
	min-width: @minPageWidth;

	.navcontent {
		margin: 0 auto;
		padding: 0 0 0 20px;
	}

	.tooltip .tooltip-inner {}

	.pull-right { float: right !important; }
	.pull-left { float: left !important; }
	.navcontent > ul:not(.pull-right) {
		.pull-left;
	}

	.brand {
		.unselectable;
		position: absolute;
		left: 50%;
		width: 700px;
		margin-left: (-350px - 7px);

		text-align: center;
		font-size: @brandFontSize;
		line-height: (@navbar-height - 1);
		vertical-align: middle;

		a {
			color: @brandColor;
			font-family: @BrandFontFamily;
			text-transform: uppercase;
			font-family: "museo";
			outline: none !important;

			&:focus, &:hover {
				text-decoration: none;
			}
		}

		.iconThumbnail {
			line-height: 23px;
			margin: -2px 1px 0;

			text-shadow: 2px 2px 0 rgba(0, 0, 0, .2),
				3px 3px 0 rgba(0, 0, 0, .2),
				5px 5px 0 rgba(0, 0, 0, .2)
			;
			// .text-shadow(0, 0, 3px, .2);
		}

		.pageLabel {
			display: inline;
			color: #444;
			font-family: museo-sans;
			display: inline-block;
			font-size: 18px;
			text-transform: uppercase;
		}

		.version {
			font-size: 20px;
			font-weight: normal;
			color: @compColor;
			cursor: default;
		}
	}

	.navcontent > ul {

		&:extend(.nav);
		&:extend(.navbar-nav);

		margin: 0 !important;
		height: @navbar-height;

		& > li {
			display: inline-block;
			vertical-align: top;
			list-style: none;
			line-height: @navbar-height;
			
			.plain-btn {
 				.navbar-vertical-align(@input-height-base);

				outline: none;
				font-weight: bold;
				color: fadeout(@compColor,30%);
				font-weight: 700;
				&:hover, &:active {
					background: none;
					box-shadow: none;
					color: @compColor;
				}
				border-left: 1px solid #DDD;
				padding: 8px 17px;
				vertical-align: top;
				box-shadow: none;
				.rounded(0);
				background: none;
				height: @navbar-height+1;
				margin: 0;
				border-bottom: 1px solid transparent;
				&:hover, &:focus {
					// background: #30302F;
					// color: white;
					background: #F8F8F8;
					border-bottom: 1px solid #AAA;
				}

				i {
					font-size: 17px;
					vertical-align: middle;
				}
			}

			.icon-btn {
				line-height: 1;
				// font-size: 13px;
				font-weight: bold;
				padding: 8px 20px;
				&:focus {
					outline: none;
				}
				border: none;
				.rounded(2px);

				color: fadeout(@compColor,30%);
				font-weight: 700;
				&:hover, &:focus, &:active {
					background: none;
					box-shadow: none;
				}
				&:hover, &:active {
					color: @compColor;
				}
				padding: 8px 12px;
				vertical-align: top;
				box-shadow: none;
				background: none;
				height: @navbar-height;
				margin: 0;
				opacity: .7;

				i {
					font-size: 17px;
					vertical-align: middle;
				}
			}

			.bell-btn {
				position: relative;
				#count {
					background: @COLOR2;
					font-size: 9px;
					float: right;
					padding: 3px 5px;
					position: absolute;
					top: 2px;
					right: 4px;
					.box-shadow(0,0,2px,1);
				}
				#count:empty {
					display: none;
				}
			}

			.openSidebar {
				position: absolute;
				top: 0;
				left: 10px;
				
				padding: 8px 12px;
				height: @navbar-height;
				margin: 0;
				text-align: left;
				opacity: .6;
				
				color: @compColor;
				font-weight: 700;
				vertical-align: top;
				box-shadow: none;
				background: none;

				.transition(opacity, .2s, linear);

				i {
					font-size: 21px !important;
					vertical-align: middle;
				}

				&:hover, &:focus, &:active {
					color: @compColor;
					.no-box-shadow;
					opacity: 1;
				}
			}

			button.newPost {
				.btn0;
				padding: 8px 12px;
				vertical-align: top;
				box-shadow: none;
				margin: 0;

				background: saturate(@COLOR3,5%);
				height: @navbar-height+1;
				.rounded(0);

				&:hover, &:focus, &:active {
					box-shadow: none;
				}
				&:active {
					.inner-shadow(5px, .4);
				}
				i { 
					font-size: 22px !important;
					color: white;
				}
				&:hover, &:focus {
					background: desaturate(@COLOR3, 5%);
				}
			}

			&.navbarDropdown {

				.avatar-btn {
					.reset-button;
					cursor: pointer;
					position: relative;
					display: inline-block;
					.avatarDd {
						display: inline-block;
						width: @navbar-height+1;
						height: @navbar-height+1;
						vertical-align: top;
						.background-size(cover);
					}
				}

				.dropdown-menu {
					left: auto;
					right: 2px;
					margin-top: 6px;
					padding: 6px 0px;
					.rounded(3px);
					background: #222;
					min-width: 0;

					&::before {
						content: ' ';
						border: 5px solid transparent;
						border-bottom-color: #222;
						position: absolute;
						top: -11px;
						left: 53px;
					}

					li {
						font-family: museo-sans;
						background: transparent;
						a {
							outline: none;
							cursor: pointer;
							color: white;
							.rounded(1px);
							padding: 5px 20px;
							font-size: 12px;
							font-weight: bold;
							font-family: museo-sans;

							.transition(all, .2s, linear);

							&:focus, &:hover, &:active { background: #222; }

							&:hover {
								background: darken(desaturate(@COLOR1,10%),3%);
								color: white;
							}
							&:active {
								.inner-shadow(3px, .3);
							}

							i {
								display: none;
								font-size: 13px;
								width: 12px;
							}
						}
					}
				}
			}
		}

		.blue-high {
			.high-xbtn(white, @COLOR1);
		}

		& > .separator {
			display: inline-block;
			margin: 0 5px;
			height: 100%;
			border-left: 1px solid rgba(0,0,0,.1);
		}
	}
}

.dialog {
	[data-action=send-tester-email] {
		.high-xbtn;
	}
}

.notificationList {
	margin: -10px -15px;
	.rounded(5px);
	overflow: hidden;

	.notificationItem {
		list-style: none;
		display: table;
		width: 100%;
		cursor: pointer;
		color: #444;

		padding: 7px 10px;
		font-size: 12px;
	
		&[data-seen=false][data-accessed=false] {
			background: #EFEFFF;
		}

		&[data-seen=true] {
			background: #F9FAFF;
		}

		&:hover {
			background: #F0F0FF !important;
		}

		&:not(:last-child) {
			border-bottom: 1px solid #DDD;
		}
		
		.notificationItemBody {
		}

		.thumbnail {
			.rounded(3px);
			float: left;
			margin-right: 10px;
			width: 30px;
			height: 30px;
			.background-size(cover);
		}
	}
}