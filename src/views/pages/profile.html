{% extends '../sidebared.html' %}
{% set requireView="profile" %}

{% import '../macros/user.html' as userMacros %}

{% block head %}
	{% parent %}
	<script>conf={postsRoot:'/api/users/{{ profile.id }}/posts'};</script>
{% endblock %}

{% block sidebarContent %}

	<div class="box userProfile">
		<div class="head">
			{{ userMacros.renderUser(profile) }}
			<span class="name">{{ profile.name }}</span>
			{% if user.id != profile.id %}
				{% if follows %}
					<button class="btn-follow" data-action="unfollow" data-user="{{ profile.id }}"></button>
				{% else %}
					<button class="btn-follow" data-action="follow" data-user="{{ profile.id }}"></button>
				{% endif %}
			{% endif %}
		</div>

		<div class="body">
			<div class="info-group">
				<label>Origem:</label>
				<span class="answer">Honolulu, Hawaii, US</span>
			</div>
			<div class="info-group">
				<label>Idade:</label>
				<span class="answer">18 anos</span>
			</div>
		</div>
	</div>

	<div class="box userList">
		<div class="head">
			Seguindo: <div class="right">{{ profile.following.count }}</div>
		</div>
		<ul class="body">
			{% if profile.following.docs.length %}
				{% for person in profile.following.docs.slice(0,10) %}
					<li>{{ userMacros.renderUser(person) }}</li>
				{% endfor %}
			{% else %}
				<div class="emptyBoxMsg">{{profile.name.split(' ')[0] }} ainda não segue ninguém.</div>
			{% endif %}
		</ul>
	</div>

	<div class="box userList">
		<div class="head">
			Seguidores: <div class="right">{{ profile.following.count }}</div>
		</div>
		<ul class="body">
			{% if profile.followers.docs.length %}
				{% for person in profile.followers.docs.slice(0,10) %}
					<li>{{ userMacros.renderUser(person) }}</li>
				{% endfor %}
			{% else %}
				<div class="emptyBoxMsg">{{profile.name.split(' ')[0] }} ainda não tem seguidores.</div>
			{% endif %}
		</ul>
	</div>

	<div class="box tagList">
		<div class="head">
			Interesses: <div class="right"> 4</div>
		</div>
		<ul class="body">
			<li><a href="#">
				<i class="tagIcon icon-square"></i>
				<span class="tagName">Application</span>
			</a></li>
			<li><a href="#">
				<i class="tagIcon icon-square"></i>
				<span class="tagName">Intercâmbio</span>
			</a></li>
			<li><a href="#">
				<i class="tagIcon icon-square"></i>
				<span class="tagName">Olimpíadas de Matemática</span>
			</a></li>
			<li><a href="#">
				<i class="tagIcon icon-square"></i>
				<span class="tagName">Vestibular</span>
			</a></li>
		</ul>
	</div>
	
	<div class="box labList">
		<div class="head">
			Laboratórios: <div class="right">{{ profile.groups.count }}</div>
		</div>
		<ul class="body groupList">
			{% if profile.groups.docs.length %}
				{% for group in profile.groups.docs %}
					<li><a href="{{ group.path }}">{{ group.name }}</a></li>
				{% endfor %}
			{% else %}
				<div class="emptyBoxMsg">{{profile.name.split(' ')[0]}} não está em nenhum laboratório.</div>
			{% endif %}
		</ul>
	</div>

	<div class="social">
		<a href="#" data-toggle="tooltip" title="Personal website">
			<i class="icon-home"></i>
		</a>
		<a href="#" data-toggle="tooltip" title="Twitter">
			<i class="icon-twitter"></i>
		</a>
		<a href="#" data-toggle="tooltip" title="Facebook">
			<i class="icon-facebook"></i>
		</a>
		<a href="#" data-toggle="tooltip" title="Github">
			<i class="icon-github"></i>
		</a>
		<a href="#" data-toggle="tooltip" title="Google+">
			<i class="icon-google-plus"></i>
		</a>
		<a href="#" data-toggle="tooltip" title="LinkedIn">
			<i class="icon-linkedin"></i>
		</a>
	</div>

	<div class="badges">
		<a href="#" data-toggle="tooltip" title="Peace Nobel 2010">
			<i class="icon-certificate gold"></i>
		</a><br>
		<a href="#" data-toggle="tooltip" title="Medalha de Prata - OBQ 2013">
			<i class="icon-certificate silver"></i>
		</a>
		<a href="#" data-toggle="tooltip" title="Medalha de Ouro - OBMEP 2011">
			<i class="icon-certificate gold"></i>
		</a>
		<a href="#" data-toggle="tooltip" title="Medalha de Bronze - OBA 2010">
			<i class="icon-certificate copper"></i>
		</a>
	</div>
{% endblock %}